<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Smart e-Invoice App</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background: #f7f7f7;
    transition: background 0.3s, color 0.3s;
  }
  header {
    padding: 15px;
    background: #4a90e2;
    color: white;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  .logo {
    font-size: 20px;
    font-weight: bold;
  }
  .container {
    padding: 20px;
    max-width: 900px;
    margin: auto;
  }
  input, select, textarea {
    width: 100%;
    padding: 10px;
    margin: 8px 0;
    border: 1px solid #ccc;
    border-radius: 6px;
  }
  button {
    padding: 10px 15px;
    margin-top: 10px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
  }
  .btn { background: #4a90e2; color: white; }
  .btn-print { background: #27ae60; color: white; }
  .btn-save { background: #8e44ad; color: white; }
  .preview {
    padding: 20px;
    background: white;
    border-radius: 8px;
    margin-top: 20px;
    display: none;
  }
  .dark-mode {
    background: #1e1e1e;
    color: white;
  }
  .dark-mode header { background: #333; }
  .color-theme {
    display: flex;
    gap: 10px;
  }
  .color-box {
    width: 30px;
    height: 30px;
    border-radius: 5px;
    cursor: pointer;
  }
</style>
</head>
<body>
<header>
  <div class="logo">Smart e‑Invoice</div>
  <button id="modeBtn">Day/Night</button>
</header>
<div class="container">

  <h2>Buyer Details (Auto‑Stored)</h2>
  <input id="buyerName" placeholder="Buyer Name" />
  <input id="buyerID" placeholder="Buyer Tax ID / IC" />
  <input id="buyerAddress" placeholder="Buyer Address" />

  <h2>Invoice Details</h2>
  <input id="invoiceNo" placeholder="Invoice No (Auto-generate)" disabled />
  <input id="refNo" placeholder="Reference No" />
  <input id="itemDesc" placeholder="Item Description" />
  <input type="number" id="itemPrice" placeholder="Amount (RM)" />

  <h2>Colour Template</h2>
  <div class="color-theme">
    <div class="color-box" style="background:#f2d7d5" data-color="#f2d7d5"></div>
    <div class="color-box" style="background:#fadbd8" data-color="#fadbd8"></div>
    <div class="color-box" style="background:#d6eaf8" data-color="#d6eaf8"></div>
    <div class="color-box" style="background:#d5f5e3" data-color="#d5f5e3"></div>
    <div class="color-box" style="background:#fcf3cf" data-color="#fcf3cf"></div>
    <div class="color-box" style="background:#f9e79f" data-color="#f9e79f"></div>
    <div class="color-box" style="background:#f5eef8" data-color="#f5eef8"></div>
    <div class="color-box" style="background:#ebdef0" data-color="#ebdef0"></div>
    <div class="color-box" style="background:#e8f8f5" data-color="#e8f8f5"></div>
    <div class="color-box" style="background:#e8daef" data-color="#e8daef"></div>
    <div class="color-box" style="background:#fceae8" data-color="#fceae8"></div>
    <div class="color-box" style="background:#eaf2f8" data-color="#eaf2f8"></div>
  </div>

  <button class="btn" onclick="generateInvoice()">Generate Invoice</button>
  <button class="btn-save" onclick="saveRecord()">Save</button>

  <div class="preview" id="previewBox"></div>

  <button class="btn-print" onclick="window.print()">Print / Save PDF</button>
</div>
<script>
  let invoiceCounter = 1001;
  let selectedColor = "white";

  document.querySelectorAll('.color-box').forEach(box => {
    box.onclick = () => {
      selectedColor = box.getAttribute('data-color');
      document.getElementById('previewBox').style.background = selectedColor;
    };
  });

  document.getElementById('modeBtn').onclick = () => {
    document.body.classList.toggle('dark-mode');
  };

  function generateInvoice() {
    document.getElementById('invoiceNo').value = 'INV-' + invoiceCounter++;

    let html = `
      <h2 style="text-align:center;">INVOICE</h2>
      <p><strong>Invoice No:</strong> ${document.getElementById('invoiceNo').value}</p>
      <p><strong>Date:</strong> ${new Date().toLocaleDateString()}</p>
      <hr>
      <h3>Buyer</h3>
      <p>${buyerName.value}</p>
      <p>${buyerID.value}</p>
      <p>${buyerAddress.value}</p>
      <hr>
      <h3>Item</h3>
      <p>${itemDesc.value}</p>
      <p><strong>RM ${itemPrice.value}</strong></p>
    `;

    let preview = document.getElementById('previewBox');
    preview.style.display = 'block';
    preview.innerHTML = html;
  }

  function saveRecord() {
    alert('Record saved successfully! (Simulation)');
  }
</script>
</body>
</html>
